{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-04-13 12:07:58.007798",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Material Request Instruction Log",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<style>\n  @page {\n    size: 8cm 5cm;\n    margin: 0;\n  }\n  body {\n    margin: 0;\n    padding: 0;\n  }\n  .sticker {\n    width: 8cm;\n    height: 5cm;\n    padding: 0.2cm;\n    font-family: Arial, sans-serif;\n    font-size: 8px;\n    box-sizing: border-box;\n    page-break-after: always;\n    page-break-inside: avoid;\n    position: relative;\n    display: flex;\n    border: 1px solid #000;\n    overflow: hidden; /* Prevent content overflow */\n  }\n  .vertical-line {\n    position: absolute;\n    left: 0.4cm;\n    top: 0.2cm;\n    bottom: 0.2cm;\n    width: 2px;\n    background: #000;\n  }\n  .logo-section {\n    position: absolute;\n    left: 0.1cm;\n    top: 0.2cm;\n    height: 4.6cm;\n    width: 0.3cm;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  .logo-container {\n    width: 0.3cm;\n    margin-bottom: 0.2cm;\n  }\n  .website-text {\n    writing-mode: vertical-rl;\n    transform: rotate(180deg);\n    font-size: 6px;\n    color: #000;\n    text-align: center;\n    white-space: nowrap;\n    margin-top: 0.2cm;\n  }\n  .logo {\n    width: 100%;\n    height: auto;\n  }\n  .sticker-content {\n    margin-left: 0.6cm;\n    flex: 1;\n    display: flex;\n    max-height: 4.6cm; /* Ensure content stays within sticker */\n  }\n  .sticker-left {\n    flex: 1;\n    padding-right: 0.3cm;\n    display: flex;\n    flex-direction: column;\n    padding: 2px;\n  }\n  \n  .sticker-right {\n    width: 1.5cm;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    text-align: center;\n    padding-right: 0.2cm;\n    writing-mode: vertical-rl;\n    transform: rotate(180deg);\n    position: relative;\n  }\n\n  .data-rows {\n    flex: 1;\n    overflow: hidden; /* Prevent data overflow */\n  }\n  .data-row {\n    margin-bottom: 0.12cm;\n    font-size: 9px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    line-height: 1.2;\n    font-weight: bold;\n  }\n  .title {\n    font-weight: bold;\n    display: inline-block;\n    min-width: 1.5cm;\n  }\n  .barcode-container {\n    height: 1.2cm; /* Fixed height for barcode */\n    margin-top: 0.1cm;\n    overflow: hidden;\n  }\n  .barcode-container img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n  }\n  .serial-right {\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 0.1cm;\n    white-space: nowrap;\n  }\n</style>\n\n<div>\n    {% if doc.service == \"Pneus Hub\" %}\n    {% set items = doc.item_details_ph %}\n    {% elif doc.service == \"Tyre Hotel\" %}\n    {% set items = doc.th_items %}\n    {% endif %}\n\n  {% for row in items %}\n    {% set accepted_bundles = (row.serial_and_batch_bundle or '').split(',') %}\n    {% set rejected_bundles = (row.serial_and_batch_bundle_rejected or '').split(',') %}\n    \n    {% set total_entries = namespace(count=0) %}\n    {% for bundle in accepted_bundles %}\n      {% if bundle %}\n        {% set bundle_doc = frappe.get_doc('Serial and Batch Bundle', bundle.strip()) %}\n        {% set total_entries.count = total_entries.count + bundle_doc.entries|length %}\n      {% endif %}\n    {% endfor %}\n\n    {% set current_index = namespace(value=0) %}\n    {% for bundle in accepted_bundles %}\n      {% if bundle %}\n        {% set bundle_doc = frappe.get_doc('Serial and Batch Bundle', bundle.strip()) %}\n        \n        {% for entry in bundle_doc.entries %}\n          {% if entry.serial_no %}\n            {% set current_index.value = current_index.value + 1 %}\n            {% set serial_doc = frappe.get_doc('Serial No', entry.serial_no.strip()) %}\n            <div class=\"sticker\">\n                <div class=\"vertical-line\"></div>\n                  <div class=\"logo-section\">\n                    <div class=\"logo-container\">\n                      <svg viewBox=\"0 0 10 30\" class=\"logo\">\n                        <circle cx=\"5\" cy=\"5\" r=\"4\" fill=\"black\"/>\n                        <circle cx=\"5\" cy=\"15\" r=\"4\" fill=\"black\"/>\n                        <circle cx=\"5\" cy=\"25\" r=\"4\" fill=\"black\"/>\n                      </svg>\n                    </div>\n                    <div class=\"website-text\">www.lbf-logistica.it</div>\n                  </div>\n              <div class=\"sticker-content\">\n                <div class=\"sticker-left\">\n                  <div class=\"data-rows\">\n                    <div class=\"data-row\">\n                      <span class=\"title\">CL : </span> {{ doc.customer or '' }}\n                    </div>\n                    <div class=\"data-row\" style = \" text-align: center;\">\n                      <h3 class=\"title\" style = \"margin-top: 0px;margin-bottom: 0px;\"> {{ entry.batch_no or '' }} </h3>\n                    </div>\n                    <div class=\"data-row\">\n                       {{ serial_doc.custom_slug or '' }}\n                    </div>\n                    <div class=\"data-row\">\n                      <span class=\"title\">ID : </span> {{ serial_doc.name or '' }}\n                    </div>\n                    <div class=\"data-row\">\n                      <span class=\"title\">COD. PR :</span> {{ row.item_code or '' }}\n                    </div>\n                    \n                    <div class=\"data-row\">\n                      <span class=\"title\">SKU : </span>  Nos\n                    </div>\n                    <div class=\"data-row\">\n                      <span class=\"title\">COD. INT :</span> {{ row.item_code or '' }}\n                    </div>\n                    <div class=\"data-row\">\n                       {{ doc.name or '' }}\n                    </div>\n                  </div>\n                  <div class=\"barcode-container\">\n                    {% if serial_doc.custom_barcode %}\n                      <img src=\"https://barcode.tec-it.com/barcode.ashx?data={{ serial_doc.custom_barcode }}&code=Code39&dpi=96&dimension=1d\" alt=\"Barcode\" />\n                    {% endif %}\n                  </div>\n                </div>\n                \n                <div class=\"sticker-right\">\n                    <div class=\"serial-right\">\n                      {{ '%02d' | format(current_index.value) }}/{{ '%02d' | format(total_entries.count) }}\n                   </div>\n                  \n                </div>\n              </div>\n            </div>\n         {% endif %}\n        {% endfor %}\n      {% endif %}\n    {% endfor %}\n  {% endfor %}\n</div>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-04-13 12:07:58.007798",
 "modified_by": "Administrator",
 "module": "Lbf Prn Generator",
 "name": "Customer PF",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}